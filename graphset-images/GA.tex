% This file generates all graphs necessary for the poster

% command to generate figures
% pdflatex -shell-escape -synctex=1 -interaction=nonstopmode nw2.tex
% 

\documentclass[class=minimal,border=1pt]{standalone}
% \documentclass{article}
\usepackage{tikz}
\usepackage{fontspec}
\setmainfont{Adobe Garamond}

\usetikzlibrary{calc,matrix,shapes,positioning,fadings}
% Load the library
\usetikzlibrary{graphs, graphdrawing, external}
\usegdlibrary{circular}

\tikzfading[name=fade out,
inner color=transparent!0,
outer color=transparent!100]


\newcommand{\convexpath}[2]{
[   
    create hullnodes/.code={
        \global\edef\namelist{#1}
        \foreach [count=\counter] \nodename in \namelist {
            \global\edef\numberofnodes{\counter}
            \node at (\nodename) [draw=none,name=hullnode\counter] {};
        }
        \node at (hullnode\numberofnodes) [name=hullnode0,draw=none] {};
        \pgfmathtruncatemacro\lastnumber{\numberofnodes+1}
        \node at (hullnode1) [name=hullnode\lastnumber,draw=none] {};
    },
    create hullnodes
]
($(hullnode1)!#2!-90:(hullnode0)$)
\foreach [
    evaluate=\currentnode as \previousnode using \currentnode-1,
    evaluate=\currentnode as \nextnode using \currentnode+1
    ] \currentnode in {1,...,\numberofnodes} {
-- ($(hullnode\currentnode)!#2!-90:(hullnode\previousnode)$)
  let \p1 = ($(hullnode\currentnode)!#2!-90:(hullnode\previousnode) - (hullnode\currentnode)$),
    \n1 = {atan2(\y1,\x1)}, 
    \p2 = ($(hullnode\currentnode)!#2!90:(hullnode\nextnode) - (hullnode\currentnode)$),
    \n2 = {atan2(\y2,\x2)},
    \n{delta} = {-Mod(\n1-\n2,360)}
  in 
    {arc [start angle=\n1, delta angle=\n{delta}, radius=#2]}
}
-- cycle
}




\tikzset{external/system call={lualatex \tikzexternalcheckshellescape --output-format=dvi -halt-on-error -interaction=batchmode -jobname "\image" "\texsource"}}
\tikzexternalize

\begin{document}



% Figure 0 - Basic Figure with no hidden objects 
\begin{tikzpicture}[hn/.style={draw,circle,gray, opaque=0.25},
vn/.style={draw,circle, thick},
ve/.style={blue,very thick}, 
he/.style={gray,opaque=0.25,very thick}
]
\graph [
nodes=vn,
edges=ve,
simple necklace layout, 
] { 
{
1 -- 2 , 
1 -- 3,
4 -- 2, 
1 -- 4, 
3 -- 4,
4 -- 5, 
3 -- 5, 
6 -- 5, 
}
}; 
\end{tikzpicture}
% 
% First Graph With Node 6 hidden 
\begin{tikzpicture}
[
hn/.style={draw,circle,gray},
vn/.style={draw,circle, thick},
ve/.style={blue,very thick}, 
he/.style={gray,thick},
]
\graph [
nodes=vn,
edges=ve,
simple necklace layout, 
] { 

 6 [hn,source edge style=he,target edge style=he] , 

{
1 -- 2 , 
1 -- 3,
4 -- 2, 
1 -- 4, 
3 -- 4,
4 --5, 
3 -- 5, 
6 -- 5, 
}
} ;
\end{tikzpicture}
%
%
% First Graph With Node 5 hidden 
\begin{tikzpicture}
[
hn/.style={draw,circle,gray},
vn/.style={draw,circle, thick},
ve/.style={blue,very thick}, 
he/.style={gray,thick},
]
\graph [
nodes=vn,
edges=ve,
simple necklace layout, 
] { 

 5 [hn,source edge style=he,target edge style=he] , 

{
1 -- 2 , 
1 -- 3,
4 -- 2, 
1 -- 4, 
3 -- 4,
4 --5, 
3 -- 5, 
6 -- 5, 
}
} ;
\end{tikzpicture}
%
% First Graph With Nodes 5 and 6 hidden 
\begin{tikzpicture}
[
hn/.style={draw,circle,gray},
vn/.style={draw,circle, thick},
ve/.style={blue,very thick}, 
he/.style={gray,thick},
]
\graph [
nodes=vn,
edges=ve,
simple necklace layout, 
] { 
 5 [hn,source edge style=he,target edge style=he] , 
 6 [hn,source edge style=he,target edge style=he] , 
{
1 -- 2 , 
1 -- 3,
4 -- 2, 
1 -- 4, 
3 -- 4,
4 -- 5, 
3 -- 5, 
6 -- 5, 
}
} ;
\end{tikzpicture}
%
% First Graph With Nodes 5 and 6 hidden 
\begin{tikzpicture}
[
hn/.style={draw,circle,gray},
vn/.style={draw,circle, thick},
ve/.style={blue,very thick}, 
he/.style={gray,thick},
]
\graph [
nodes=vn,
edges=ve,
simple necklace layout, 
] { 
{
1 -- 2 , 
1 -- 3,
4 -- 2, 
1 -- 4, 
3 -- 4,
4 -- 5, 
3 -- 5, 
6 -- 5, 
}
} ;
\draw[violet,thick] \convexpath{1,4,3,2}{0.4cm};
\end{tikzpicture}

\begin{tikzpicture}
[every edge/.append style={color=blue,very thick}]
\def \n {6}
\def \radius {4cm}
\def \margin {8} % margin in angles, depends on the radius
\foreach \s in {1,...,\n}
{
{\node[draw, circle] (\s) at ({360/\n * (\s - 2)}:\radius)  {$y_{\s}$};}
} 


{\draw  (1) -- (2) node [near end, below=10pt] {\small \textcolor{black}{$x_{12}$}}; }
{\draw [color=blue,very thick] (4) -- (2) node [near start, above=1pt] {\small \textcolor{black}{$x_{42}$}};  }
{\draw [color=blue,very thick] (1) -- (3) node [near start, below=5pt] {\small \textcolor{black}{$x_{13}$}};  }
{\draw [color=blue,very thick] (1) -- (4) node [near start, below=5pt] {\small \textcolor{black}{$x_{14}$}};  }
{\draw [color=blue,very thick] (4) -- (5) node [near end, above=10pt] {\small \textcolor{black}{$x_{45}$}};  }
{\draw [color=blue,very thick] (3) -- (5) node [near end, above=5pt] {\small \textcolor{black}{$x_{35}$}}; }
{\draw [color=blue,very thick] (6) -- (5) node [near end, below=10pt] {\small \textcolor{black}{$x_{56}$}};}  
{\draw [color=blue,very thick] (3) -- (4) node [midway, above=5pt] {\small \textcolor{black}{$x_{34}$}};  }
\end{tikzpicture}

\end{document}
